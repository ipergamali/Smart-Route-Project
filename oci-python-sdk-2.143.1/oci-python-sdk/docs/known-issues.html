

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Known Issues &mdash; oci 2.143.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Logging" href="logging.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> oci
          

          
          </a>

          
            
            
              <div class="version">
                2.143.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="fips-libraries.html">Using FIPS-validated Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="forward-compatibility.html">Forward Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="new-region-support.html">New Region Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="backward-compatibility.html">Backward Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Known Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#potential-memory-leak-issue-with-repeatedly-creating-new-signers-clients-with-instance-principals-resource-principal-and-delegation-token-auth-cloud-shell-is-known-to-be-affected">Potential memory leak issue with repeatedly creating new signers/clients with Instance Principals, Resource Principal, and Delegation token auth. Cloud Shell is known to be affected</a></li>
<li class="toctree-l2"><a class="reference internal" href="#potential-data-corruption-with-python-sdk-on-uploadmanager-upload-stream-in-fips-mode-and-cloud-shell-versions-2-53-0-and-below">Potential data corruption with Python SDK on UploadManager.upload_stream() in FIPS mode and Cloud Shell (versions 2.53.0 and below)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#performance-regression-in-oci-v2-38-4-and-above">Performance regression in oci v2.38.4 and above</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-job-and-wait-for-state-fails-with-keyerror-for-resourcemanagerclientcompositeoperations-versions-2-20-0-and-above">create_job_and_wait_for_state() fails with KeyError for ResourceManagerClientCompositeOperations (versions 2.20.0 and above)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uploadmanager-upload-stream-raises-multipartuploaderror-in-oci-v2-23-2">UploadManager.upload_stream() raises MultipartUploadError in oci v2.23.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uploadmanager-generates-ssl3-write-pending-error-when-a-read-timeout-is-set-for-the-object-storage-client">UploadManager generates ssl3_write_pending error when a read timeout is set for the Object Storage client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#potential-data-corruption-with-python-sdk-on-binary-upload-versions-2-8-0-and-below">Potential data corruption with Python SDK on binary upload (versions 2.8.0 and below)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#default-timeout-not-getting-set-in-the-clients-versions-2-17-2-and-below">Default timeout not getting set in the clients (versions 2.17.2 and below)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#some-blockstorage-composite-operations-throw-a-404-notauthorizedornotfound-for-cross-region-operations">Some BlockStorage composite operations throw a 404/NotAuthorizedOrNotFound for Cross Region operations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exception handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload-manager.html">Uploading Large Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="raw-requests.html">Raw Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="waiters.html">Composite Operations and Waiters</a></li>
<li class="toctree-l1"><a class="reference internal" href="pagination.html">Pagination</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/landing.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="customize_service_client/index.html">Customizing Service Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdk_behaviors/index.html">SDK Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributions.html">Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="feedback.html">Questions or Feedback</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">oci</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Known Issues</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/known-issues.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="known-issues">
<span id="id1"></span><h1>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h1>
<p>These are the current known issues for the Python SDK.</p>
<div class="section" id="potential-memory-leak-issue-with-repeatedly-creating-new-signers-clients-with-instance-principals-resource-principal-and-delegation-token-auth-cloud-shell-is-known-to-be-affected">
<h2>Potential memory leak issue with repeatedly creating new signers/clients with Instance Principals, Resource Principal, and Delegation token auth. Cloud Shell is known to be affected<a class="headerlink" href="#potential-memory-leak-issue-with-repeatedly-creating-new-signers-clients-with-instance-principals-resource-principal-and-delegation-token-auth-cloud-shell-is-known-to-be-affected" title="Permalink to this headline">¶</a></h2>
<p><strong>Details:</strong> When repeatedly creating new signers/client objects with Instance Principals, Resource Principal, and Delegation token auth, some underlying objects are not cleared from memory and causes a memory leak. From our tests, the rate of memory growth is ~10 MiB/hour when only client/signer objects are created in an infinite loop. Cloud Shell is affected by the same issue when new client objects are created repeatedly using the Python SDK. This seems to be coming from an underlying <a class="reference external" href="https://github.com/psf/requests/issues/4601">memory leak in the requests package</a>.</p>
<p><strong>Workarounds:</strong>
These workarounds are known to mitigate the issue:</p>
<ol class="arabic simple">
<li>Avoid creating new signer/client objects and reuse them if possible. If you are using delegation token auth, and need to update the value of the delegation token you can do it this way to update an existing signer, instead of creating a new signer:</li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">oci.auth.signers</span> <span class="kn">import</span> <span class="n">InstancePrincipalsDelegationTokenSigner</span>
<span class="kn">from</span> <span class="nn">oci.object_storage</span> <span class="kn">import</span> <span class="n">ObjectStorageClient</span>

<span class="c1"># Create signer and client</span>
<span class="n">delegation_token_signer</span> <span class="o">=</span> <span class="n">InstancePrincipalsDelegationTokenSigner</span><span class="p">(</span><span class="n">delegation_token</span><span class="o">=</span><span class="s2">&quot;delegation_token_value&quot;</span><span class="p">)</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">ObjectStorageClient</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="p">{},</span> <span class="n">signer</span><span class="o">=</span><span class="n">delegation_token_signer</span><span class="p">)</span>

<span class="c1"># Update the delegation token on the client</span>
<span class="n">client</span><span class="o">.</span><span class="n">base_client</span><span class="o">.</span><span class="n">signer</span><span class="o">.</span><span class="n">delegation_token</span><span class="o">=</span><span class="s2">&quot;new_delegation_token_value&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Use the <a class="reference external" href="https://docs.oracle.com/en-us/iaas/tools/python/latest/raw-requests.html">raw request signer</a>.</li>
</ol>
</div>
<div class="section" id="potential-data-corruption-with-python-sdk-on-uploadmanager-upload-stream-in-fips-mode-and-cloud-shell-versions-2-53-0-and-below">
<h2>Potential data corruption with Python SDK on UploadManager.upload_stream() in FIPS mode and Cloud Shell (versions 2.53.0 and below)<a class="headerlink" href="#potential-data-corruption-with-python-sdk-on-uploadmanager-upload-stream-in-fips-mode-and-cloud-shell-versions-2-53-0-and-below" title="Permalink to this headline">¶</a></h2>
<p><strong>Details:</strong> When using the Python SDK to perform stream upload operations you may encounter an issue with data corruption if you are using UploadManager.upload_stream. This issue is known to affect the customers using FIPS mode and Cloud Shell.</p>
<p><strong>Impacted Versions:</strong> v2.53.0 and below</p>
<p><strong>Direct link to this issue:</strong> <a class="reference external" href="https://github.com/oracle/oci-python-sdk/issues/410">Potential data corruption issue for multipart stream upload for OCI Python SDK</a></p>
</div>
<div class="section" id="performance-regression-in-oci-v2-38-4-and-above">
<h2>Performance regression in oci v2.38.4 and above<a class="headerlink" href="#performance-regression-in-oci-v2-38-4-and-above" title="Permalink to this headline">¶</a></h2>
<p>In OCI Python SDK version 2.38.4 and later versions, you may encounter performance regressions when using the SDK with some OCI services. The regression surfaces itself as a 3-second increase in latency in SDK operations made to some OCI services. This issue has been confirmed to impact the OCI Streaming service, and likely impacts the following services:</p>
<ul class="simple">
<li>Email Delivery</li>
<li>Health Checks</li>
<li>NoSQL Database Cloud</li>
<li>Registry</li>
<li>Generic Artifacts</li>
<li>Web Application Acceleration</li>
<li>Security service</li>
</ul>
<p>This list is not comprehensive – it is possible you may encounter the issue against other OCI services as well. The issue has been confirmed to NOT affect the OCI Object Storage and Functions services.</p>
<p>We are actively working on fixing this issue, but in the mean time, if you are experiencing this issue there are some workarounds you can do:</p>
<ul class="simple">
<li>Recommended: Disable support for the OCI Python SDK’s Expect: 100-Continue feature by adding the following environment variable <cite>OCI_PYSDK_USING_EXPECT_HEADER</cite> to <cite>FALSE</cite>. For example, in Bash, <cite>export OCI_PYSDK_USING_EXPECT_HEADER=FALSE</cite></li>
<li>Or, use OCI Python SDK version 2.38.3 or earlier</li>
<li>Or, use the OCI Python SDK’s <a class="reference external" href="https://docs.oracle.com/en-us/iaas/tools/python/latest/raw-requests.html">raw request signer</a> to make requests to OCI services for any requests where you are experiencing performance degradation. An example on how to use the raw request signer is <a class="reference external" href="https://github.com/oracle/oci-python-sdk/blob/master/examples/raw_request.py">here</a>.</li>
</ul>
<p>If you have any questions, please feel free to comment on <a class="reference external" href="https://github.com/oracle/oci-python-sdk/issues/367">this GitHub issue</a> and we will be happy to help.</p>
</div>
<div class="section" id="create-job-and-wait-for-state-fails-with-keyerror-for-resourcemanagerclientcompositeoperations-versions-2-20-0-and-above">
<h2>create_job_and_wait_for_state() fails with KeyError for ResourceManagerClientCompositeOperations (versions 2.20.0 and above)<a class="headerlink" href="#create-job-and-wait-for-state-fails-with-keyerror-for-resourcemanagerclientcompositeoperations-versions-2-20-0-and-above" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://docs.cloud.oracle.com/en-us/iaas/tools/python/latest/api/resource_manager/client/oci.resource_manager.ResourceManagerClientCompositeOperations.html#oci.resource_manager.ResourceManagerClientCompositeOperations.create_stack_and_wait_for_state">ResourceManagerClientCompositeOperations.create_job_and_wait_for_state()</a> fails with KeyError: ‘opc-work-request-id’.</p>
<p><strong>Workaround:</strong> Use <a class="reference external" href="https://docs.cloud.oracle.com/en-us/iaas/tools/python/latest/api/resource_manager/client/oci.resource_manager.ResourceManagerClient.html#oci.resource_manager.ResourceManagerClient.create_stack">create_stack()</a> and then implement <a class="reference external" href="https://docs.cloud.oracle.com/en-us/iaas/tools/python/latest/api/waiters.html#oci.wait_until">waiters</a>. You can find an example to use waiters <a class="reference external" href="https://github.com/oracle/oci-python-sdk/blob/master/examples/wait_for_resource_in_state.py">here</a>.</p>
</div>
<div class="section" id="uploadmanager-upload-stream-raises-multipartuploaderror-in-oci-v2-23-2">
<h2>UploadManager.upload_stream() raises MultipartUploadError in oci v2.23.2<a class="headerlink" href="#uploadmanager-upload-stream-raises-multipartuploaderror-in-oci-v2-23-2" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://docs.cloud.oracle.com/en-us/iaas/tools/python/latest/api/upload_manager.html#oci.object_storage.UploadManager.upload_stream">UploadManager.upload_stream()</a> raises MultipartUploadError when a timeout is set on the underlying object storage client, and the operation takes more than the read timeout to complete. Prior to v2.23.2, we were overwriting the timeout to None in the operations (please see this <a class="reference external" href="https://docs.cloud.oracle.com/en-us/iaas/tools/python/latest/known-issues.html#uploadmanager-generates-ssl3-write-pending-error-when-a-read-timeout-is-set-for-the-object-storage-client">known issue</a>). The default timeout is a read timeout of 60 seconds, hence this scenario will be triggered by default in v2.23.2 on any use of this operation where the operation takes 60 or more seconds to complete.
You can work around the issue by explicitly setting the timeout to None. For example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">base_client</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
<p>This issue has been fixed in oci v2.23.3</p>
</div>
<div class="section" id="uploadmanager-generates-ssl3-write-pending-error-when-a-read-timeout-is-set-for-the-object-storage-client">
<h2>UploadManager generates ssl3_write_pending error when a read timeout is set for the Object Storage client<a class="headerlink" href="#uploadmanager-generates-ssl3-write-pending-error-when-a-read-timeout-is-set-for-the-object-storage-client" title="Permalink to this headline">¶</a></h2>
<p><strong>Update:</strong> This issue has partially been fixed in v2.23.2. This issue still may exist with using Python versions &lt; 2.7.9. If you do encounter this issue, please consult the workaround mentioned below.</p>
<p><strong>Update:</strong> With v2.18.0 we handle the object storage client with default timeout values (connect timeout = 10 secs and read timeout = 60 secs), by overwriting the timeout to <cite>None</cite> in the operations.</p>
<p>PLEASE NOTE that the operations are NOT thread-safe, and you should provide the UploadManager class with its own Object Storage client that isn’t used elsewhere.</p>
<p><strong>Details:</strong> UploadManager generates the following error when a read timeout is set for the Object Storage client.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">OpenSSL</span><span class="o">.</span><span class="n">SSL</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;SSL routines&#39;</span><span class="p">,</span> <span class="s1">&#39;ssl3_write_pending&#39;</span><span class="p">,</span> <span class="s1">&#39;bad write retry&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p><strong>Workaround:</strong> Do not set the read timeout for the Object Storage client. There are a two ways to do so:</p>
<ul class="simple">
<li>Create an Object Storage client without setting a timeout.</li>
<li>Clear the timeout on an already initialized Object Storage client by setting the timeout of the base_client to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">base_client</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
<p>If you need to retain the connection timeout while clearing the read timeout, you can do so by setting the timeout to a tuple. The first item in the tuple is the connection timeout and the second is the read timeout. In the following example, the connection timeout is set to 90.0 seconds and the read timeout is set to infinite, or no timeout.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">base_client</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="p">(</span><span class="mf">90.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="potential-data-corruption-with-python-sdk-on-binary-upload-versions-2-8-0-and-below">
<h2>Potential data corruption with Python SDK on binary upload (versions 2.8.0 and below)<a class="headerlink" href="#potential-data-corruption-with-python-sdk-on-binary-upload-versions-2-8-0-and-below" title="Permalink to this headline">¶</a></h2>
<p><strong>Details:</strong> When using the Python SDK to perform binary upload operations you may encounter an issue with data corruption if retries are enabled or if you are using UploadManager.upload_file.</p>
<p><strong>Impacted Versions:</strong> v2.8.0 and below</p>
<p><strong>Direct link to this issue:</strong> <a class="reference external" href="https://github.com/oracle/oci-python-sdk/issues/203/">Potential data corruption with Python SDK on binary upload</a></p>
</div>
<div class="section" id="default-timeout-not-getting-set-in-the-clients-versions-2-17-2-and-below">
<h2>Default timeout not getting set in the clients (versions 2.17.2 and below)<a class="headerlink" href="#default-timeout-not-getting-set-in-the-clients-versions-2-17-2-and-below" title="Permalink to this headline">¶</a></h2>
<p>The default timeout values (connect timeout = 10 secs and read timeout = 60 secs) we not getting set in the clients and remained None (infinite timeout). This has been fixed in v2.18.0.</p>
</div>
<div class="section" id="some-blockstorage-composite-operations-throw-a-404-notauthorizedornotfound-for-cross-region-operations">
<h2>Some BlockStorage composite operations throw a 404/NotAuthorizedOrNotFound for Cross Region operations<a class="headerlink" href="#some-blockstorage-composite-operations-throw-a-404-notauthorizedornotfound-for-cross-region-operations" title="Permalink to this headline">¶</a></h2>
<p><strong>Details:</strong> The copy_boot_volume_backup_and_wait_for_state() and copy_volume_backup_and_wait_for_state() from the BlockStorage Client Composite operations throw a 404/NotAuthorizedOrNotFound when copying a backup from one region to another even though the operation succeeds eventually.</p>
<p><strong>Impacted Versions:</strong> All</p>
<p><strong>Workaround:</strong> Instead of using the composite operations, use two different clients for this operation; one client in the Source Region to send the request for copying the backup from Region A to Region B, and a second client in Destination region to wait for the backup to become available. See <a class="reference external" href="https://github.com/oracle/oci-python-sdk/blob/master/examples/copy_volume_backup_example.py">this</a> for an example.</p>
<p><strong>Direct link to this issue:</strong> <a class="reference external" href="https://github.com/oracle/oci-python-sdk/issues/344">Some BlockStorage composite operations throw a 404/NotAuthorizedOrNotFound for Cross Region operations</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="logging.html" class="btn btn-neutral float-right" title="Logging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quickstart.html" class="btn btn-neutral" title="Quickstart" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, 2025, Oracle

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>